{% extends 'base_home.html'%}

{% block content %}

  <div id="loginpage">
    <div class="col-12 border mt-5" style="height: 380px;">
      <div class="my-5">
        <h1 class="login_h1">Instagram</h1>
      </div>
      <form action="" method="POST" class="d-flex flex-column" >
        {% csrf_token %}
        <div class=" my-1">
            {{form.username}}
        </div>
        <div class="my-1">
          {{form.password}}
        </div>
        <button id="loginbtn" class="btn btn-primary w-75 mx-auto my-1" disabled=true>로그인</button>
      </form>
    </div>
    <hr>
    <div class="w-100 border py-5 my-1" >
      <p>계정이 없으신가요?<a href="{% url 'accounts:signup' %}">가입하기</a></p>
    </div>
  </div>
{% endblock %}

{% block script %}
<script>
  const inputId = document.querySelector('#id_username')
  const inputPassword = document.querySelector('#id_password')
  const submitBtn = document.querySelector('#loginbtn')

  inputId.classList.add('w-75')
  inputId.classList.add('py-1')
  inputId.placeholder = '아이디를 입력해주세요'
  inputPassword.classList.add('w-75')
  inputPassword.classList.add('py-1')
  inputPassword.placeholder = '비밀번호를 입력해주세요'
  inputId.addEventListener('input',checkinput)
  inputPassword.addEventListener('input',checkinput)
  function checkinput(){
    var inputIdValue = inputId.value
    var inputPasswordValue = inputPassword.value
    if (inputIdValue === '' || inputPasswordValue === ''){
      console.log('비활성화')
      submitBtn.disabled = true

    } else {
      console.log('활성화')
      submitBtn.disabled = false
    }

  }
</script>
{% endblock %}